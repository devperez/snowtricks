{% extends 'base.html.twig' %}

{% block body %}

	{% for label, messages in app.flashes %}
		{% for message in messages %}
			<div class="alert alert-{{ label }} alert-dismissible" role="alert">
				<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
				<div class="alert-message">
					{{ message|raw }}
				</div>
			</div>
		{% endfor %}
	{% endfor %}

	<div class="container pt-4">
		<div class="row">
			<div class="col">
				<h1 class="h3 mb-3 font-weight-normal">Modifiez ce trick :</h1>
				<form method="POST" action="#" enctype="multipart/form-data">
					{{ form_start(trickForm) }}
					{{ form_row(trickForm.name) }}
					{{ form_row(trickForm.description) }}
					{{ form_row(trickForm.category) }}
					<fieldset>
						<legend>MÃ©dias</legend>
							{{ form_row(trickForm.media) }}
							{{ form_row(trickForm.video) }}
					</fieldset>
					<button type="submit" class="btn btn-primary mt-4">Valider</button>
					{{ form_end(trickForm) }}
				</form>
			</div>
		</div>
        {% for mediaItem in media %}
            {% if mediaItem.type == 'photo' %}
                <img src="{{ asset(mediaItem.media) }}" alt="Image" />
            {% elseif mediaItem.type == 'video' %}
                {{ mediaItem.media|raw }}
            {% endif %}
        {% endfor %}
        
	</div>

{% endblock %}